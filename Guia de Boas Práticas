üõ°Ô∏è Guia de Boas Pr√°ticas: Precis√£o e Seguran√ßa de Dados
Este guia estabelece os padr√µes t√©cnicos para o desenvolvimento do Terminal de Intelig√™ncia, garantindo que as an√°lises entregues ao investidor sejam confi√°veis, seguras e audit√°veis.

1. Precis√£o e Integridade dos C√°lculos
Dados financeiros exigem tratamento especial para evitar erros cumulativos.

Ponto Flutuante: Nunca utilize float para c√°lculos monet√°rios cr√≠ticos que envolvam somas de grandes volumes. Prefira a biblioteca decimal para manter a precis√£o de centavos.

Tratamento de Nulos (NaN): Ativos podem ter negocia√ß√µes suspensas. Sempre trate dados faltantes com .fillna() ou .dropna() antes de calcular indicadores como RSI ou M√©dias M√≥veis.

Arredondamento Final: Realize arredondamentos apenas na exibi√ß√£o para o usu√°rio (ex: f"{valor:.2f}"). Mantenha a precis√£o total nos c√°lculos internos.

2. Valida√ß√£o de Fontes de DadosO terminal consome APIs externas (CVM, BCB, Yahoo Finance). 
Devemos assumir que elas podem falhar.Caching: Utilize st.cache_data para evitar requisi√ß√µes excessivas √†s APIs. Isso protege seu IP de ser banido (Rate Limiting) e acelera o terminal.
Sanitiza√ß√£o de Inputs: Sempre limpe o CNPJ ou Ticker inserido pelo usu√°rio (remover espa√ßos, pontos e converter para mai√∫sculas) antes de disparar a consulta.
Check de Sanidade: Antes de exibir um Pre√ßo Justo, verifique se o valor √© racional (ex: se o pre√ßo calculado √© $> 0$ e se os indicadores base n√£o s√£o negativos).

3. Seguran√ßa e Privacidade
Mesmo sendo uma ferramenta local/web, a seguran√ßa √© primordial.

Vari√°veis de Ambiente: Nunca escreva chaves de API ou senhas diretamente no c√≥digo (hardcoded). Utilize arquivos .env ou o st.secrets do Streamlit.

Princ√≠pio do Menor Privil√©gio: O terminal deve ter apenas permiss√£o de leitura de dados. Nunca d√™ permiss√µes de escrita em bancos de dados ou corretoras sem necessidade.

Logs de Erro: Implemente blocos try-except que informem ao usu√°rio um erro amig√°vel, mas registrem o erro t√©cnico detalhado internamente para corre√ß√£o.

4. Auditoria e Transpar√™ncia
O investidor precisa saber de onde veio o dado.

Timestamp: Sempre exiba a data e hora da √∫ltima atualiza√ß√£o do dado (ex: "Dados atualizados em: 19/01/2026").

Notas de Rodap√©: Se um c√°lculo (como Graham) utiliza uma premissa (como a constante 22.5), deixe isso expl√≠cito na interface.

Versionamento: Utilize o Git para documentar cada altera√ß√£o na l√≥gica de c√°lculo, permitindo rastrear quando uma f√≥rmula foi alterada.
